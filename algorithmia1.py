
notes = '''
BACCAABBBCABAABBBBCCCCBCBCBCCACBCCCAABCABAABBACCACAABAACCBCBCABABACABBCBCBAACBABCACACBCBCBBABABACBABAAAABBCCAAABBACBCACBBBACACABACAACAAACCBAABCCCBCCABBBABACCCCCCBBBAABBBCABABACABABBBBCABCCBCABBBAACCCABCACCBBBCCCACAAABCCCCCBCBBBBBBBCACBAAACBBCCBABCABAACBABCACBACACBCBCCABCCABBBCBACCAABABCCCAAACBCACCBACAACAACAAAAABABACCBBAABACAAABABBCBAABCABBCAABCCBBCBCABCCAAABCABACBACCCACACAAACBACBBCAABACBCCBBCAACCCAACBCCBBABCBBBBAAACCCCAACACCBBBBBBCCBCBBCABACCABCACABBCACCBBCABABBBCABBCABCCCCBABCAAAAABCCBBABCABABCCBCCABCACBAACAAACCCACACCCCBABCBCCACCBABBBCBBAACBBAABCBBBBCCCCAAAACBBCCCACCACBACCBAACCCAACBCCCCAACACBACBBACBCAABACBCCABCCBAABCBBBBCCCABACCABBAACBBBBABBCBBACCBBAABCBBAABCABCABBBCBCBCCBBABABBACCBCABBCBCCCBCBBBAABBCBACACAAABCBAACCACACBCCCCBABBACAABCABACCBACBBBCCAACCBACCACBABBABCCAABBACCBABACAACBCACBBABCBABBCABAACCABCCBBCBACABBBBBBAACCACACAAACAACCAABCCCAACCAACBCABCBCBCAABAABCBCCBCAABBBAABACCACAABBCCBCCBAACBABCCCBCABCAABAAACBBCCABAACABAACBBCCAABAAACBAACCCBAAABABBAABBBCBBCACACACBABBCBAABABAAABCCAABCACB
'''

pdict = {'A': 0, 'B': 1, 'C': 3}

n_potions = sum(map( lambda x: (pdict[x] if x in pdict else 0) , notes))

print(n_potions)

notes2 = '''
DACBDxDxDDBACDDCBDBBDDBDADDxBBBDBDDADDCBDDAAADABCCCBCCABCAAABCBCCCDBCxCxBCAADDCABBBBAADBDCBxCBBADCBACDBCADDCBCABCCBBDAxBCCDADCCBADBDBxDBBxxCxCCBADDABAxCAxCxBBCxBADBAxBADBDBBDBADxBCDABCADBxDDABABCDxACADDDDDDBCBCxCCBxCDDDCDCABCDAADDCABADCCACCAABxBBADBBBBAADxBACADBADxDABABAADCBBDDBxCAACDxxABBBBAAAACBDxBCDACBDADAAAxBACDAxBBAxADCAADCDDAxCACCCAAAAAxBCxBCDxABDBDBADABCBDCADDBxCCBAxBCDADCADCACBBDDCxDDDCBCBCCCDCAxAxDxDDBDACACCBBDCDDBxAxDAxABBABBCDBACDDBACBADDCBADDCAADABAAABBCBAxABAAACBCADxCxABxDDBDxCDCBBCDCBCDCADBBACBDCAxCBDCBBxCDxBABCBADACCDCDCDADCDDADBBBCBxDCCDxBACADCxADACCCBCACCBCBxxDCCxABCBxDAxBABDADBCADBDBABCCxCCACDABCACCDBDAxADAACCABDxDDDDCBxDDAACAxDDxBxBABDADBBCxACABBDAxAxCADDADxxDCCCxDCxBDCAAAxADABBCCDDBDxCxCBAAADCCxxAAADAABxAADCBACDDxDDDxCxDDDxxACCACAACABDBACDCAABCBBCAxBADDABBDBADACDBCCxxABCBCCBCADBACxDxDADBBBDDCDBCCAxDDAAxxAABBDACCBBBDBCCDBCCDDCCDDCDDBDAxCADAxBDCxADBDAAADCxBCAAAACCADDADDAACCAAADBAABADADDCxADCDBCDBCDDDBCBABxAABBACACCBxBABCxBDCCxBBABAACDDABDAxCCBABBDCABAAxAACBABACACBCADCAxADAABBDDCDCAADBxCBCAACxDBAAADBAABACBBACAAAxBDBAxDxCAxBADADDBDCDACCDCBACxBDCDDBCACCCBDDxCBDCACDBxACDCACADCDBDDCDDBCAAxCADBABBBBBDCDADDCCBxADCABBCDBCBBBDxBDBBDDAAxCADBBDDxDABBAxxABDCBBABBCDAABDxDACBDACBABCACCACDDBBxABBABACAxDADCDBDxBDCABCBDCBCACBAAACCxCBAxAACBCBDADADAADBDAADxxCxDCCDADCxDCxDxDCAAAxBCABACACCCCDDADBDxCADCDBDADCAAAADDDCxCxBBAACBCBxBBCBBACCADDCxADDDCCBAxDBDDAxxDADCBDDCDBBBCCAABCAAxxCCBxBxCDBBDDCBADDxCDACCAAAADDCADACCBxACAxDDDDDAACDBCBCACAxACAxCBxACxABBAxDAAxADDBBDDCBCCADxAADCADBCCDxBADACBxCCDDxBxABCDAAACDAABxCBADBDDxCAABBCABCxDxxABCDCCBBBAxBDBBABACBCADCxCCABAAxACCDBDBBBAABDCDxABADACBACxCCACxBCBBCADDBBDBDCCABCBBBDBBCBCDCAxBBABBABCBBxADADBBCABDBDDBABAxBBCCABDBxACCDBBDACCAADDBCACCDAACDBACBxAxDCDCCBBCAxABBDBDxACADxDBACDDBABDDBADAAxDDCxxACDDADADDADDADDBCxCCAABCxCDACBCDxCCBDDDDxBACDxCAxCBBxxBBDxBBBCCACCABCBADDADBDCDBCAABBACDxDBAABACBBBBxADDCDDBDxAABCAAABDDDCBBABDBDBBCDDBDDBDDxBDxDDABDACACBDABBxCCBABBADCADDDAxCAABDDDDBABDDCxDBCCBBDADADACDDCDCxACBAAACBDBDDBCCDBBDBBxCADABAxCCBDCBCCD
'''.strip()

pdict = {'A': 0, 'B': 1, 'C': 3, 'D': 5}


def pairval(pair):
    preval = sum(map( lambda x: (pdict[x] if x in pdict else 0), pair))
    #print(pair,preval)
    return preval if 'x' in pair else preval + 2


notes2pairs_gen = ((notes2[2*k], notes2[2*k+1]) for k in range(len(notes2)//2))
print(sum(map(pairval, notes2pairs_gen)))


notes3 = '''
AxDCBBAADDBBAAACBBDCDCADxxAADAxCACDCDDDABACDxDABABBCAACxDCCxDxxDCBDBACBCDBACBBADABACBBBADADCBxDADCxBBCAACBBxCCCxDxABDADCCAxAxxDxAABCBxBCxCABCCABCCDAAAAADCxDDCBCDxBBAxCABDAxCACAAACCBBAxBBAxCBCxCCBABDCACDDDACDxBBDCACDDADBAABABCxxxCxxDABBxADBCxCCAABCDCAxAxABDAxxBBBCCDCDxCCxxCDxxxBDDxDxBDDxAAxxDDxCDxADCxBCCDABxBDxDBxBBxBAxABBDBABBBxxCDxxDCDxBBxADABBABCCxxBCCABCCxABADxDAxxCABCxBAABADCxDBCDDCBAxCADCCxAxDxDCxADDBDBCCCAADxDCDBADCBAxBBDDBDBCACxxDxCxDCADDBBCBxBAAxABxDCxAACxADCBCABBBBBBDxxAxDCxBBDBAACADCCDxBDAxDDCCCBCDDAxAxBACCDxCDABAAADxxDADDBDxxADAACDCBCADAABCBABxBAxAADACABBAxAxBCDAABAACBxBDACxAACBxCxxACxAxxDAABDDDACBABCCDCAADBCACDBxDxBxxCxABACxBDBxBCBxCBCAAABBxxDDDBBADABADCxDBCADCCDBDAxxDBxCxDDADxCCxBAAxDxAxAxACABCBxDxxDDxBDACDCAxDACAxAxCBADDxDxCCDCCBDDCDDCxABxCAxACAxBBBDCACCAACCCBxABCADAxBDACACCCADDADBCBAxCDDxAAABDBxCDCACAADBxDABABBCAxxBAxABAAxBAxxCxBAxxAABBDxCxxDxBDCCBBDADCCxBCxxBBCACDxADCCCABAxxABxxCDAxxBDBxDxDCBBCCxBCADABDxADBCABCCAABxADDACAxBDxDBxADxCCCBBCAAxxBCxDCCxCxCCBxBCAABxxBBDBDDxxxADxAADxxCAxDDxCADDCAADxDDABCACDCCAAADADACCxCDDAAxDDADCBxBxABxxDCCDDBACBBBDxBxABBBxCBDDDxDBDDCBBACxCDABDCxAxCxAAAABACAADACDBACADDDxxCxxBDAAxDCABxxxAAxxACAxDBCDDBCDxxDxxAxCDAxBACACxCCCADCDxDBBBCAABBCDAxxABADBCCBCACADAAxCCxABBAxCxBCxCDBADDxBABBxCBBABAABBBBxDCBxCxCCABDxxCxCAxAABxAxCBAABDDAxDxBDxDADCABAxxADxxxDxAxCACxBBBBDCAxxxDCDBCxDBBBBDDxDAAxDBBxBxAACDBxCCADCDDBxDBDCxxBxADCCBBACDxDDABDDDACDABDxCADACADCADAxBAABBCAAADAAAAxxADCCDCDCDxxDABCCCADBDBCDCBCDxAAACCDDCAABCACCDBCCDBADADBCCDDAxAAAABCDBxCxxBxBDxxDAAABAxDCBADACCxxBAxBDDCxCCBxCDCDAADCDxBBDxCBxxDxAACACDxxDDDDAAxABDxADxCABCBBBBAxCDCDDCAAxAAxDBAACBAxxCxxBBAACxCCAxBACBBxDCxxxDBBAxBADxAxCDACDCxxDDCBCBCAACDBDCABCDCxBDxBBDxADAAxCDADCxADAADCABABAADBCDBDBxCCDAxCABCCDBBBBCxxCxxCAxCBDxABADAADBDABxDBACDBBBxBABCBxABCBABBBAxxABCDAxDAxBADDxCCAxBCABxxCDAACDCACCxCxxDDADBDCxDxBBxDAACCxBxCBBDxCxCDACCCABBxBBCADCxAACDABAAxBCDxDxCCxBDBBBCACBBDxCxACCxACxABBxAxDBDDAAxDDxCBBABDxxxCAxCDCBxBCxxABBDDxBDBDCAACDDDDDCBxDACCAxBBBxCBAAAxACDCCBDCDDxCACDBBDBACCDxCBDDACCCCxxxxDDABCCDxDBAAxACDDxCxCAxACADCADxACDACCBxDxCDACDBxxACxxDADCABCDCDxCDCxCABADADACxxDAxAxxABxAxBDADBABxCCAAxCxCxBABxAAADADDAABAxCAxxxADAAxCAxDxxAxCCCABCDxxDAxACxxBDACACxxABCBADCxADBBDCDDBxCBBACxDBCBDBCDDxBAACBBDAACDBCxDADABxBAABDADABDxBDCxABDBDxCDBxDxxxxBABBABxxCBBAACDxxBBABCBAxCADCACDCDxxADBAxAxABBACBxBACCDAxDDDxDCAABxDxABAxADCAxxCADBxCCBCxACBxCDDxDDAxBxDxDDDCBCxABCDxBxDDxCADCCCxxxDDCxCADCDADxABBxBACxCCBDCDBDxBxBCADCBADBAxDDxDCAxxCBDCDDBDCBxxBDDxxxABBAxCxACABADxAxAADxCBxAADDABCBxxxBDADxBBBxABDBDDBxDxxCBxxCxxCCDCxADBBBBCADxxDCCxxBxABBAxABxDDADxADDxDAAABCxCAAxDxAAACCBBxBxCBCxAAxCCBDDABCAxCBDDCCxDBBBBCDCBxCBBBAACBxBDABCDDBDCAAABADDCDxBDAxxACxxDBBACBCBCCBAxxBxDDBxBBABxDBBBDBAAAxxBAxBxDxxxABAACxDADBCxDADxxBDxDBxBDDxxxAxBxBDAABDBxCxBxCBDCxAACDDACBCxBDCDxDBxAxADDxBxABxBCBABBDBxDCxBxCCxxBxBAABACCCCADCDACCCAxCBDxBCxCxBBBBBABBDBBDxADAABADDDBBAACDxCxxAADxADDCxABxxDBBDxxxAABCDBADBDxDBCDBCAxxDCxBCxDDCCBxABxAxCDCCBABBxxAxDBCDxDxCBACADABBCDDxCDCABxCxBxDAxCABCCBxBBDACCBxCxCxCDBBBBCBCAACBADxBADDBDDDxDxBDCAxBDxCxxDBDCABxCxADCDBDACxxxCDDxAxBxDDDCBCAADCxADDDxBDxCBxCxxxACxBDxCDAxxABDCBBxxCAxCDCxDDxCCBDxxDxBDCxxDCBCCBABBDBADDDCABBBABCACxBBCDACBDADxDDBACBxDDxxADBxACxxADDxDBCAxCABDCDBADxCCDxABAADBCBxDxDCBADxxAACACBDCBCACBDCxxABCBBBDxCxDDADxxCCxxxxCAxxxxxAxBBAxDBxCCCCBBBAAxDCDxBABxACCxDABCCBxBCBBDCCCBCDBCxBAABxCAAACABACBCxBCBBBABBDDDCCACBBDxACCDAxBBAAxBDAAAxBACCBBBxADCBBDBACABCDBxABxBxCxDCBADxxCBxCACADBCCAxBxABABxAAxCCDBBBABBDxCCABBBBCxCABBDABADDACBABxBCDxDBxxxACxBDAAACCABADDAxxBDADxxBADDxBBxCDxAAABBCCAxBxBDxDxBDCxDxBDBABACxCBCDxBAxCCAxCDxAxxBCCDBAxAxxCBADBxCBDCBBCCDCADBCDxADxABBCAxCDxADBBADDBxDDDBDADxBABDBBDBABxBxAADxCxDxxBADDxCACxBBACxAAxAADDBDDDDAABxABAxAxBAAACDDCCACCBCBBCBxxBCxBxDxBxCxBxBDDBBDCDBxDxAxDDBBAACACxxADxxBACxDCDCBxBBxBADxDDDDCBCDBAAADCBxBCABDxDBBDDCABDACABDBAABxAABBACxDACCBCACADBBABDBBxCBABCCBAxCDBBxDCxxBxDDxxBxABBBxxxCBBADBxxCDDxDDxBACAAxxxxDADBBxxxDBCADAABADxAxDBCBxBCADAABBBBDCxDCxBxCxADBDACxBAACACBxAxDAAADBDxCxCABDCDAxxxBDCACDDCADBBCxADCDADxBxBxDBCCBBBBxBxABxBCDxDBxBxDCDAxACxDxDACBADADBABADCAxCAxDCADCCCDCBDxBCDxCCDBDACBAxBCCAxDADDADxBCxxBDDxAACDDDxBDBxADBDCAADADAACCCBxDBBxACCAADABxDCDDCBBxBCACBBABBDAAxABDAxABDDxDCCADCBACxCCxBxBABxCxADCDBxBCCCCCBBBBBxCCBAxABBDCCDCxCAAACDACDDDBCxDCCxABBADABADDAAAABBCxxCBDCAADxDADDADDDxxCCDCADxBxxCxCACDDCBxACDABDxBCCABxBBAxADBxACDxACxxCDAxAxDCxBxCACxBDCBDADxBDxACAADCAABCAAxBCCDDDxxADBxDCABACCACCBDCDDxABCBDDCDDxDCBADBBxBAAABDABxBCBCxxABCBDCACDxDxDAxDCBDBDCACADBxxDDxACCDAxBDADBBCDxABDBABDAxBxDCDAxCDADBxBDADDCAAABBABACBCxDABxCBCDBACADDBACxDCDBCCDDABCxxCDAxACxBxAxxBAxDBDxACCCBCBDACDxDCCAAABAADBACABDAxACACCADxDDDDxCBBCABBBDACDBBAAxABCABABxDBAACCCDDxACxBADxAAADCABDxAxCACABCADxADCBDBAADBxCxDDAADxxAxBxBCBDxADCADBADAxCCCxBBxDBBxAxBCBxABBCABBAxCxACDCCDxBBBAxDxxCADADABBxBABxxDxBCxDDDxDCDBBDCCDCBADxCABABDACxDBxBxCxxDACDDBACDCCDDABCCxBCxCCxCDCBDBDDxCxxxDAxADADCCxCxAxCCBDDxCDxxCBDxDCBDCADDBDDBAxxABBAxBxACCBBDAxxCCDDDDDADxDBBCCDDCxBCxAxxxDBCDxADCCDADCBBxCBBBDDAAAxDxACADBAxBxDCxBBADCDDBDxAxBCCxABDxxCBBxCAADADDxAxAAACBCADAxCADDCCACxDDCAADAABDCDCCADxCBCCAxBxxCDxBxBCCADCDxBCBBDABCxCABAABDBDxDCDCBCBxCCCBBBACxCxAABDACCBCDCxDxDBCxBBCxBBDDAxxxxxAxxBDAxDAxADxxABAADxDxAxBDBxxAAADCBxDCDCxAxCxAxBABCDBCxBADBBDxBAABDABAABCCAACDxxDDBAADABBDCACxDAADxBAABAADDDxxCxDDAAADAxBDCAABxxDACDDADDADADCADBDDxDCCDxBDDBDxCxCCDxxDACDDDDABBxDCCDDCDBCBxCDDxDCDDAADCBBBDCBBBCBACCCCBBAADAxCACBADxxACACDAxAxBAADxBABxCBAAxCCAABCDCACAxCCAxBxBAxBCBDCCxDCCxCxCADxADDCDBxBAACBDxBxxAABBBBADBCABCBCCCAAxxDCBxACBAxDACCDDCCBDBCBCCBAADDAAAADBDBDAAABxDBBBAxBBDDxDBxBxBABxABDAxACBCBxxCDCxAxAxBABADDCDABBAxBCCAADAxxCxCDDxCBDDBBDDAxADADCDDACABCCBDDDACBBxAxACBBDDxxACDDCDDCDDDDxAABBCCADDBCxDCxxAACAxBBCAAABCADBCABDxDACDBDCCxAxACDDxCABxCABxDCBBAxAACBCAABAABCxBACDCBxCCABDBAxxxBxAxDADADBCABADDCCDxABxxCCAxCDDxCDDBAxxxBxADBxxBDCABxCDDCDCxDxBBxCDABxABCDABBDACBBBADBBCAAADxCCDxDDDDBDDCADxBDCCDABDDxxBCBCDDCxBxxABBAAACBDDBCAxCxBDBxABAAxCABBxDDxCBxBAACBCCDAAAxCxABABxABxBxxxAABBDCCABBACCDxABxDBDBAADxADCxBxABBDxxAABCxDDADBABxCxxAADBCAAxAADAAABxCCBxCxCDxDDAxABxAxAxADBDxDxBBDAADCBxBAAxACDBBAxAxDDxDAADBDxBxCBAAxABDBDDBBDxCxxxCABCBxAxDCACBBBCBBxDCACBCAxxBxCDCCBCCxACBBxxABDAAxxCBxAxxBCABxxCxCxAxAACxxDCAACABBxCBBxxDCxACCCAxxCADDxBDxBABBCCADABxBDDBCCxAxxCDxxAxDCDCBDxxDBDDCDABCCBCAxCABBBBBxxxCADDCAABACCxCBxCCDBBDBxCBxxCDDCCDCxCDCxxABBDxxBDBAxCABADBDBDxBDAAAxxxBBxBBxBDBDBCCDCCxDACACDCDBxAADCCDBDBCDBCBACDBDBxxCxCBCDCxDBBBxACxxCDBCDDxAADDxBxABADDxBABBBDBDAAAxABBxxAxCCADxBAxACxAADxDDABBACADDDCAxBCACADCBABADBxDCCxCxAxCACBBxxCxxDCAxCDCxAxxDCxAACxCCBBADAxCBDDxBxDxBDxDADCCCABAxxDDABAxDDAxCBADCACDAAACBCDBABxxxAxAxxADCxBDxAAAABBDAACACBBDxxCACxABCACBDABxxCAxCABBxDDxACABADAAxBBxBDBAxxxDBABADCDDxBDBBBDCBABBxAxAxAxAAxBDDDBDBDCBACBxBCCDDCACDCBACCDBDDBxDDCCCCxDDCBCAABxDCBBAxAxxxxCCACBDBBBxxBCxCAABCBABCDBxxBxxBCBCxABADDCBABxCAACCxDACDCCADCACCxCxxxCBAxDCDDADBCADCDACDCxAABCBDDACDBxDDBBCABxxBDAxCDACxBxDCBBADCBDADABDAxxCBBDxCDxCxCxACBDxxBBCxBDCDCxBxBCxCBDxBBxxBxDADABxDBAABCCADDAxxDBAxxCAABADBAxAxxDxxABDDxxAADBBBBCACAxADCBADCxDAAxCBCBCDxCCBxDBBDCAxDCxDxCADAAAADACCAxCBCDADxDBBDxCCDAAACCCABxACDBACBAAACDxxCAAADxCBDBBDBDxDABxBCACDAxDDCBDxACAxAxxDxCACxDBCxBCDCDxDDCxACAAxxxCAAADCBDxBCCxxxBBDAxCAACxBBACxABCBDCBxADDxxDDDBxBDDCBDBBBDDDBBABADDDDCDCxCBDxxBCCAACxDDBBCxDxABxACBAxDABDxADCDCxxxADxDAxDAxxDxACDBDACADBDADDxCAxCDxxCCxBCxBxBBDCBAxxxAxDBCBCCAAxDDCAxCxxCCCxCADBDDBDBxADxDCBxxBxADDBDBCDBBDCxBBxADDCBxCBACxxxxABxDAACADABCDCBBBACBABxADBBAxBxCADAABxABADxxxCBBCBBABCxxCxDDBACCDxxxCCxDCABxBDBCxACDxDBDBBxBCAxCCAxxBBxBABBBCxBAxCCCxxCABxDAxADCAxABAxDDACxxBCxBxBxxCCxCDBADADxCBCBDDxDBABxCAxCxxDxBBBADxxxDBxDDBxDCDCBABCACCCDBxABxAxABBCADDDDAxDDADAxCBxDCBAACxACDAxDCBBCBxBBDBCCAxDCDBxBCABAAxBDxxxBBBxACxDBxAAAADBxBDxDBCxAxxxxCCCACDxxBBBBDCDADBxAxAABxCxCAADBxAAADBCAxCACBBDxBxCCAxDBDABxAxCDBADxxCADCxACAAxDxBDBCBxxDBDxDCBBBBCDxAxBxCxxxxBBADDCxBBADBADxAxDxCBACAACxCDxCDAAADxCADCBAxxxCxxDDCABBBxDBABDBxDDAAABAxDADCxDCxxBBCDBCDAAABBAACDDADBDCCDDBDBACDxCCxACCCxDxBDACxxAADDADDxBBBADDCCBCCDBDDCCDADCBxxCBDBBBABDDCBBABBCCxxDAxCDACxBCBxxBxCxDBxDxBCDxDADCDxAxCADACCDxBBDDDBxCBDDBCxxDBxBDBBDDCAAABADCACDDDAAABxCBBDCCDADCACAAAACCAxDCABCxxxBCBAxADAAAAADDxAAADDBAACAABACDBCABBCDDxABCDxBDAACxxxCCxDCACDBCxACCACACBxBDDxCBDBAxCCADAxDBADDCDBxDADBxBDCDCBAAABBDDDDDAxBDBDBxBDxBACDBABCxAxxAxACACBAxxCBxBBDBCxBDCCBxDABDCDCDBBADDAxBxAxBxBDDDDCxAAACABACDABBCDDCBAAxCxCADCDBDDBACAxDCADDCADBADCADBCxDBAxBxDCBBAxCBxAxxBxDDCCACBADDAADBDCCxBADABCCDBxxDCBCDDADBBDBDABABxBDDDCBDxxxCBCCBAxACDADBABDCABACBAAAAxDDxBCADxCDxBxxBBxDADBAAADCDABDAAxDxACxADCDCxxAxDDAxDxxxDADCBCAxDAAxBAxxxDBCBxDBCxDACCDBBAxDACCxxCDADDBxBCxxDxBxABACCBAABDACACxDCACxDACABACBABxxBCCCCBxCDCDAAABDABDxxDDDDCAxDDDAxACxCDDxDCCDBAxAxCDDBxxDDADCAxCAxAxCAAxDxDDxxCCABACBAAxACACBCxxBxAABCBCAxBBCBDBCBBBCDACBDxxDBAxxAxCAxBDDAABAxCCxxDAABADABAxxCxAADBxCxCxABCDDBCxxDDCDABBBBCBCDDxBCACxAAAAACABDxDCDBDxBxxAxxxBCCBBCCCABBACBxxxDADACDDDBDBCBAxCCAAAxDABxAADxxADCBABCBCxBDBAxBABDAxBxCCCACADDxxDxBBCAADAxBBDDxABCBxxCAxCCCBACDBBDDxADBBxCCBCDxBACxAAxBDCDxxDBxxBACBDBCCDDCCDABAxBDBDCxBBACBxCADxAACDxABDCAxDBADACxCAADDCCBxBDxDxDxxCBBCDCBADCDDBBCAABCxDBCCBxxCDDBDADDCxCxBCACAxCDDxBAAABBA
'''.strip()

pdict = {'A': 0, 'B': 1, 'C': 3, 'D': 5}


def tripletval(triplet):
    preval = sum(map( lambda x: (pdict[x] if x in pdict else 0), triplet))
    nx = triplet.count('x')
    #print(triplet, preval, preval + (6 if nx == 0 else 2 if nx == 1 else 0))
    return preval + (6 if nx == 0 else 2 if nx == 1 else 0 )


notes3triplets_gen = ((notes3[3*k], notes3[3*k+1],  notes3[3*k+2]) for k in range(len(notes3)//3))
print(sum(map(tripletval, notes3triplets_gen)))

